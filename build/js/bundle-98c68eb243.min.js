"use strict";function AppRoutes(t,e,i,n){e.otherwise("/"),t.state("home",{url:"/",templateUrl:"app/components/home/home.html",controller:"HomeCtrl"}).state("my-wishlist",{url:"/my-wishlist/:id",templateUrl:"app/components/my-wishlist/my-wishlist.html",controller:"MyWishListCtrl"}).state("starred-lists",{url:"/starred-lists/:id",templateUrl:"app/components/starred-lists/starred-lists.html",controller:"StarredListsCtrl"}),n.facebook({clientId:"247255738962232"})}function NavSvc(t){}function HomeCtrl(t,e,i,n,r){t.authenticate=function(t,n){i.authenticate(t,n).then(function(t){t.data;r.getProfile().then(function(t){var i=t.data._id;e.go("my-wishlist",{id:i})})["catch"](function(t){})})["catch"](function(t){})}}function NavbarCtrl(t,e,i,n){t.isAuthenticated=function(){return n.isAuthenticated()},t.logout=function(){n.logout(),e.go("home")}}function MyWishListCtrl(t,e,i,n,r,a,o,l){return t.id=l.facebook,i.isAuthenticated()?(a.getProfile().then(function(t){o.user=t.data,o.id=t.data._id,o.display_name=t.data.displayName,o.email=t.data.email,o.pro_pic=t.data.facebook,o.items=t.data.items})["catch"](function(t){}),t.add=function(e,i){t.name=e.name,t.link=e.link;var n=t.user._id;t.item.user=n,a.add_new(e).then(function(){t.items.push({name:t.name,link:t.link,user:n}),t.item.name="",t.item.link=""})["catch"](function(t){})},t.edit=function(e){t.item={},t.item.name=e.name,t.item.link=e.link,t.editItemId=e._id},t.save_changes=function(e,i){t.item.name=e.name,t.item.link=e.link,t.item.id=i,a.save_changes(e).then(function(){})},t["delete"]=function(e,i){a.delete_item(e,i).then(function(){t.items[i];t.items.splice(i,1)})},void(t.star=function(){})):e.go("home")}function StarredListsCtrl(t,e,i,n,r,a,o,l){return i.isAuthenticated()?void(t.search=function(t){o.get_friends(t).then(function(t){})["catch"](function(t){})}):e.go("home")}angular.module("App",["ui.router","satellizer","app.routes","ui.sortable"]),angular.module("app.routes",[]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$authProvider",AppRoutes]),angular.module("App").service("NavSvc",NavSvc),NavSvc.$inject=["$http"],angular.module("App").factory("StarSvc",function(t){return{get_friends:function(e){return t.get("/api/me/:id/friends",e)}}}),angular.module("App").factory("UserSvc",function(t){return{getProfile:function(){return t.get("/api/me")},add_new:function(e){var e;return t.post("/api/me/items",e)},delete_item:function(e,i){return t.put("/api/me/items/delete",e)},save_changes:function(e){var e;return t.put("/api/me/items/edit",e)}}}),angular.module("App").controller("HomeCtrl",["$scope","$state","$auth","$http","UserSvc",HomeCtrl]),angular.module("App").controller("NavbarCtrl",["$scope","$state","NavSvc","$auth",NavbarCtrl]),angular.module("App").controller("MyWishListCtrl",["$scope","$state","$auth","$http","$window","UserSvc","$rootScope","$stateParams",MyWishListCtrl]),angular.module("App").controller("StarredListsCtrl",["$scope","$state","$auth","$http","$window","UserSvc","StarSvc","$stateParams",StarredListsCtrl]),angular.module("App").controller("ProfileCardCtrl",function(t){}).directive("profile-card",function(){return{restrict:"E",controller:"ProfileCardCtrl",templateUrl:"app/shared/profile-card/profile-card.html",link:function(t,e,i){}}});
//# sourceMappingURL=bundle-98c68eb243.min.js.map
