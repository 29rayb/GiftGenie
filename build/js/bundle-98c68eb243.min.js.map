{"version":3,"sources":["app.js","app.routes.js","services/nav.js","components/home/home.js","components/navbar/navbar.js","components/my-wishlist/my-wishlist.js","components/starred-lists/starred-lists.js","services/starred.js","services/user.js","shared/profile-card/profile-card.js"],"names":["AppRoutes","$stateProvider","$urlRouterProvider","$locationProvider","$authProvider","otherwise","state","url","templateUrl","controller","facebook","clientId","NavSvc","$http","HomeCtrl","$scope","$state","$auth","UserSvc","authenticate","provider","user","then","res","data","getProfile","response","facebookId","_id","go","id","err","NavbarCtrl","isAuthenticated","logout","MyWishListCtrl","$window","$rootScope","$stateParams","display_name","displayName","email","pro_pic","items","add","item","name","link","userId","add_new","push","edit","editItemId","save_changes","$index","delete_item","splice","star","StarredListsCtrl","StarSvc","search","get_friends","angular","module","config","service","$inject","factory","get","post","put","directive","restrict","scope","el","attrs"],"mappings":"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","file":"bundle-98c68eb243.min.js","sourcesContent":["'use strict';\n\nangular\n  .module('App', [\n    'ui.router',\n    'satellizer',\n    'app.routes',\n    'ui.sortable'\n  ]);","'use strict';\n\nangular\n  .module('app.routes', [])\n  .config(['$stateProvider', '$urlRouterProvider', '$locationProvider', '$authProvider', AppRoutes]);\n\nfunction AppRoutes($stateProvider, $urlRouterProvider, $locationProvider, $authProvider) {\n  // $locationProvider.html5Mode(true);\n  $urlRouterProvider.otherwise('/');\n  $stateProvider\n    .state('home', {\n      url: '/',\n      templateUrl: 'app/components/home/home.html',\n      controller: 'HomeCtrl'\n    })\n    .state('my-wishlist', {\n      url: '/my-wishlist/:id',\n      templateUrl: 'app/components/my-wishlist/my-wishlist.html',\n      controller: 'MyWishListCtrl',\n    })\n    .state('starred-lists', {\n      url: '/starred-lists/:id',\n      templateUrl: 'app/components/starred-lists/starred-lists.html',\n      controller: 'StarredListsCtrl'\n    })\n  $authProvider.facebook({\n    clientId: '247255738962232'\n  });\n}\n","'use strict';\n\nangular\n  .module('App')\n  .service('NavSvc', NavSvc)\n\nNavSvc.$inject = ['$http']\n\nfunction NavSvc($http){\n  console.log('NavBar Service Working.')\n}\n\n\n","'use strict';\n\nangular\n.module('App')\n.controller('HomeCtrl', ['$scope', '$state', '$auth', '$http', 'UserSvc', HomeCtrl])\n\nfunction HomeCtrl($scope, $state, $auth, $http, UserSvc){\n  console.log('In The Home Controller')\n\n  $scope.authenticate = function(provider, user) {\n    //$auth returns a promise. We'll wanna use that, so we have a '.then'. (This is what produces the 'token' object we see in console).\n    //Satellizer stores this token for us automatically. (It's in local storage!) It is sent via the request.get in 'auth.js' route.\n    $auth.authenticate(provider, user)\n      .then(function(res) {\n        // console.log(res, 'This is the auth response in Home Ctlr.');\n        var token = res.data;\n        // console.log(token, \"This is our token. We're inside Home Ctlr.\")\n      UserSvc.getProfile()\n        // this has to be done before state.go because facebook_email is needed but\n        // after auth.authenticate because you are pressing the login with facebook button\n        .then(function(response) {\n          var facebookId = response.data._id;\n          // var facebook_name = response.data.displayName;\n          // var facebook_email = response.data.email;\n          console.log('THIS IS THE UNIQUE FACEBOOK ID',facebookId)\n          $state.go('my-wishlist', {id: facebookId})\n        })\n        .catch(function(err) {\n          console.error(err, 'Inside UserSvc After Auth.authenticate, we have an error!');\n        });\n    })\n    .catch(function(err){\n      console.error(err, 'Inside the Home Ctrl, we have an error!');\n    });\n  };\n\n}\n","'use strict';\n\nangular\n.module('App')\n.controller('NavbarCtrl', ['$scope', '$state', 'NavSvc', '$auth', NavbarCtrl]);\n\nfunction NavbarCtrl($scope, $state, NavSvc, $auth){\n\n  $scope.isAuthenticated = function() {\n    return $auth.isAuthenticated();\n  };\n\n  $scope.logout = function(){\n    $auth.logout();\n    $state.go('home')\n  }\n}\n","'use strict';\n\nangular\n.module('App')\n.controller('MyWishListCtrl', ['$scope', '$state', '$auth', '$http', '$window', 'UserSvc', '$rootScope', '$stateParams', MyWishListCtrl])\n\nfunction MyWishListCtrl($scope, $state, $auth, $http, $window, UserSvc, $rootScope, $stateParams){\n  console.log('In My Wishlist Controller.')\n\n  console.log('starred lists');\n  console.log('THESE ARE THE STATEPARMS', $stateParams)\n  $scope.id = $stateParams.facebook;\n\n  if(!$auth.isAuthenticated()){\n    return $state.go('home');\n  }\n\n  UserSvc.getProfile()\n  .then(function(response) {\n    $rootScope.user = response.data;\n    $rootScope.id = response.data._id;\n    $rootScope.display_name = response.data.displayName\n    $rootScope.email = response.data.email\n    $rootScope.pro_pic = response.data.facebook\n    $rootScope.items = response.data.items;\n    console.log($rootScope.user, \"This is the data from GET request.\");\n    console.log(\"Hey babe. #lovey-dovey\");\n  })\n  .catch(function(err) {\n    console.error(err, 'Inside the Wishlist Ctrl, we have an error!');\n  });\n\n  // UserSvc.getPhotos()\n  //   console.log('yuguygyfyut')\n  //   .then(function(response) {\n  //     console.log('THIS IS THE GET PHOTOS RESPONSE', response)\n  //     console.log('THIS IS THE GET PHOTOS RESPONSE', response.data)\n  //   })\n  //   .catch(function(err) {\n  //     console.error(err, 'Inside the Wishlist Ctrl, we have an error!');\n  //   });\n\n  $scope.add = function(item, user){\n    $scope.name = item.name;\n    $scope.link = item.link;\n    var userId = $scope.user._id;\n    $scope.item.user = userId;\n\n    UserSvc.add_new(item)\n    .then(function() {\n      console.log('Inside Add_New method in Ctrl. Item:', item)\n      $scope.items.push({\n        name: $scope.name,\n        link: $scope.link,\n        user: userId\n      })\n      $scope.item.name = '';\n      $scope.item.link = '';\n      console.log('Added new items.')\n    })\n    .catch(function(err) {\n      console.error(err, 'Inside the Wishlist Ctrl, we have an error!');\n    });\n  }\n\n  $scope.edit = function(item){\n    $scope.item = {};\n    $scope.item.name = item.name;\n    $scope.item.link = item.link;\n    $scope.editItemId = item._id;\n    console.log($scope.editItemId, \"Edit this Item.\");\n  }\n\n  $scope.save_changes = function(item, editItemId){\n    console.log('newly editted item for saving', item)\n    $scope.item.name = item.name;\n    $scope.item.link = item.link;\n    $scope.item.id = editItemId;\n    console.log($scope.item.id, \"Yup, this item id.\");\n    UserSvc.save_changes(item)\n    .then(function() {\n      console.log('Inside edit method. Item:', item)\n      console.log(\"HOW TO SAVE CHANGES ON FRONTEND?????\");\n    })\n  }\n\n  $scope.delete = function(item, $index){\n    console.log(item, \"HERES THE ITEM.\");\n    console.log($index, \"INDEX 1\");\n    UserSvc.delete_item(item, $index)\n    .then(function(){\n      console.log($index, \"INDEX 1\");\n      var item_to_delete = $scope.items[$index];\n      console.log('item to delete', item_to_delete);\n      $scope.items.splice($index, 1);\n    })\n  }\n\n  $scope.star = function(){\n    console.log('starred this person');\n  }\n\n}\n","'use strict';\n\nangular\n  .module('App')\n  .controller('StarredListsCtrl', ['$scope', '$state', '$auth', '$http', '$window', 'UserSvc', 'StarSvc', '$stateParams', StarredListsCtrl])\n\nfunction StarredListsCtrl($scope, $state, $auth, $http, $window, UserSvc, StarSvc, $stateParams){\n  console.log('In Starred Controller.')\n\n  if(!$auth.isAuthenticated()){\n    return $state.go('home');\n  }\n\n  $scope.search = function(user){\n    console.log(user, 'heres the user');\n    StarSvc.get_friends(user)\n    .then(function(user){\n      console.log(user, \"here are the friends we would get back\");\n      console.log('WTF');\n    })\n    .catch(function(err) {\n      console.error(err, 'Inside the Starred Ctrl, we have an error!');\n    });\n  }\n\n\n  // $scope.unstar = function($index){\n  //   console.log('unstar wishlist');\n  //   var wishlist_to_unstar = $scope.items[$index];\n  //   console.log('wishlist to unstar', wishlist_to_unstar);\n  //   $scope.items.splice($index, 1)\n  //\n  //   // API.unstar_wishlist({ name: wishlist_to_unstar.name }, function (success) {\n  //   //   $scope.items.splice($index, 1);\n  //   // });\n  // }\n}\n","'use strict';\n\nangular.module('App')\n\n.factory('StarSvc', function($http) {\n  return {\n    get_friends: function(user) {\n      console.log(\"IN HERE. This is user in service\", user);\n      return $http.get('/api/me/:id/friends', user);\n    }\n  //   add_new: function(item) {\n  //     var item;\n  //     console.log(item, \"Here is the new item in our service.\");\n  //     return $http.post('/api/me/items', item);\n  //   },\n  //   delete_item: function(item) {\n  //     return $http.put('/api/me/items/delete', item);\n  //   },\n  //   save_changes: function(item) {\n  //     var item;\n  //     console.log(item, \"Item for editting.\");\n  //     return $http.put('/api/me/items/edit', item);\n  //   }\n  };\n});\n","'use strict';\n\nangular.module('App')\n\n.factory('UserSvc', function($http) {\n  return {\n    getProfile: function() {\n      return $http.get('/api/me');\n    },\n    add_new: function(item) {\n      var item;\n      console.log(item, \"Here is the new item in our service.\");\n      return $http.post('/api/me/items', item);\n    },\n    delete_item: function(item, $index) {\n      console.log(item, \"Item Id for deletion.\");\n      console.log($index, \"INDEX IN SERVICE\");\n      return $http.put('/api/me/items/delete', item);\n    },\n    save_changes: function(item) {\n      var item;\n      console.log(item, \"Item for editting.\");\n      return $http.put('/api/me/items/edit', item);\n    }\n  };\n});\n","'use strict';\n\nangular\n  .module('App')\n  .controller('ProfileCardCtrl', function($scope){\n    console.log('yo')\n  })\n  .directive('profile-card', function(){\n    return {\n      restrict: 'E',\n      controller: 'ProfileCardCtrl',\n      templateUrl: 'app/shared/profile-card/profile-card.html',\n      link: function(scope, el, attrs){\n\n      }\n    }\n  });"],"sourceRoot":"/source/"}