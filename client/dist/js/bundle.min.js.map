{"version":3,"sources":["app.js","app.routes.js","services/nav.js","services/starred.js","services/user.js","components/my-wishlist/my-wishlist.js","components/home/home.js","components/starred-lists/starred-lists.js","components/navbar/navbar.js","shared/profile-card/profile-card.js"],"names":["AppRoutes","$stateProvider","$urlRouterProvider","$locationProvider","$authProvider","otherwise","state","url","templateUrl","controller","facebook","clientId","NavSvc","$http","StarSvc","UserSvc","getProfile","get","add_new","item","post","delete_item","$index","put","save_changes","WishlistCtrl","$scope","$state","$auth","$window","$rootScope","$stateParams","id","isAuthenticated","then","response","user","data","_id","display_name","displayName","email","pro_pic","items","err","add","name","link","userId","push","swal","title","text","type","timer","edit","editItemId","splice","star","go","HomeCtrl","authenticate","provider","res","facebookId","StarredCtrl","search","NavbarCtrl","logout","angular","module","config","service","$inject","factory","directive","restrict","scope","el","attrs"],"mappings":"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","file":"bundle.min.js","sourcesContent":["'use strict';\n\nangular\n  .module('App', [\n    'ui.router',\n    'satellizer',\n    'app.routes',\n    'ui.sortable'\n  ]);","'use strict';\n\nangular\n  .module('app.routes', [])\n  .config(['$stateProvider', '$urlRouterProvider', '$locationProvider', '$authProvider', AppRoutes]);\n\nfunction AppRoutes($stateProvider, $urlRouterProvider, $locationProvider, $authProvider) {\n  // $locationProvider.html5Mode(true);\n  $urlRouterProvider.otherwise('/');\n  $stateProvider\n    .state('home', {\n      url: '/',\n      templateUrl: 'app/components/home/home.html',\n      controller: 'HomeCtrl'\n    })\n    .state('my-wishlist', {\n      url: '/my-wishlist/:id',\n      templateUrl: 'app/components/my-wishlist/my-wishlist.html',\n      controller: 'WishlistCtrl'\n    })\n    .state('starred-lists', {\n      url: '/starred-lists/:id',\n      templateUrl: 'app/components/starred-lists/starred-lists.html',\n      controller: 'StarredCtrl'\n    })\n  $authProvider.facebook({\n    clientId: '247255738962232'\n  });\n}\n","'use strict';\n\nangular\n  .module('App')\n  .service('NavSvc', NavSvc)\n\nNavSvc.$inject = ['$http']\n\nfunction NavSvc($http){\n\n}\n\n\n","'use strict';\n\nangular\n  .module('App')\n  .factory('StarSvc', StarSvc)\n\nStarSvc.$inject = ['$http'];\n\nfunction StarSvc ($http) {\n  return {\n    // get_friends: function(user) {\n    //   console.log(\"IN HERE. This is user in service\", user);\n    //   return $http.get('/api/me/:id/friends', user);\n    // }\n  };\n};\n","'use strict';\n\nangular\n  .module('App')\n  .factory('UserSvc', UserSvc)\n\nUserSvc.$inject = ['$http']\n\nfunction UserSvc ($http) {\n  return {\n    getProfile: () => {\n      return $http.get('/api/me');\n    },\n    add_new: (item) => {\n      var item;\n      console.log(item, \"Here is the new item in our service.\");\n      return $http.post('/api/me/items', item);\n    },\n    delete_item: (item, $index) => {\n      console.log(item, \"Item Id for deletion.\");\n      console.log($index, \"INDEX IN SERVICE\");\n      return $http.put('/api/me/items/delete', item);\n    },\n    save_changes: (item) => {\n      var item;\n      console.log(item, \"Item for editting.\");\n      return $http.put('/api/me/items/edit', item);\n    }\n  };\n};\n","'use strict';\n\nangular\n  .module('App')\n  .controller('WishlistCtrl', ['$scope', '$state', '$auth', '$http', '$window', 'UserSvc', '$rootScope', '$stateParams', WishlistCtrl])\n\nfunction WishlistCtrl($scope, $state, $auth, $http, $window, UserSvc, $rootScope, $stateParams) {\n    // console.log('THESE ARE THE STATEPARMS', $stateParams.id)\n    $scope.id = $stateParams.id;\n    // console.log('is this the id in the url', $scope.id)\n\n    if (!$auth.isAuthenticated()) {\n      return $state.go('home');\n    }\n\n    UserSvc.getProfile()\n      .then((response) => {\n          $rootScope.user = response.data;\n          $rootScope.id = response.data._id;\n          $rootScope.display_name = response.data.displayName\n          $rootScope.email = response.data.email\n          $rootScope.pro_pic = response.data.facebook\n          $rootScope.items = response.data.items;\n          // console.log(\"This is the data from GET request.\", $rootScope.user);\n      })\n      .catch((err) => {\n          console.error(err, 'Inside the Wishlist Ctrl, we have an error!');\n      });\n\n    $scope.add = (item, user) => {\n      $scope.name = item.name;\n      $scope.link = item.link;\n      var userId = $scope.user._id;\n      $scope.item.user = userId;\n\n      UserSvc.add_new(item)\n          .then(() => {\n              console.log('Inside Add_New method in Ctrl. Item:', item)\n              $scope.items.push({\n                  name: $scope.name,\n                  link: $scope.link,\n                  user: userId\n              })\n              $scope.item.name = '';\n              $scope.item.link = '';\n              console.log('Added new items.')\n          })\n          .catch((err) => {\n              console.error(err, 'Inside the Wishlist Ctrl, we have an error!');\n          });\n      swal({\n          title: \"Good job!\",\n          text: \"You added the item!\",\n          type: \"success\",\n          timer: 2000\n      })\n    }\n\n    $scope.edit = (item) => {\n      $scope.item = {};\n      $scope.item.name = item.name;\n      $scope.item.link = item.link;\n      $scope.editItemId = item._id;\n      console.log($scope.editItemId, \"Edit this Item.\");\n    }\n\n    $scope.save_changes = (item, editItemId) => {\n      console.log('newly editted item for saving', item)\n      $scope.item.name = item.name;\n      $scope.item.link = item.link;\n      $scope.item.id = editItemId;\n      console.log($scope.item.id, \"Yup, this item id.\");\n      UserSvc.save_changes(item)\n          .then(() => {\n              console.log('Inside edit method. Item:', item)\n              console.log(\"HOW TO SAVE CHANGES ON FRONTEND?????\");\n          })\n    }\n\n    $scope.delete = (item, $index) => {\n      console.log(item, \"HERES THE ITEM.\");\n      console.log($index, \"INDEX 1\");\n      UserSvc.delete_item(item, $index)\n          .then(function() {\n              console.log($index, \"INDEX 1\");\n              var item_to_delete = $scope.items[$index];\n              console.log('item to delete', item_to_delete);\n              $scope.items.splice($index, 1);\n          })\n    }\n\n    $scope.star = () => {\n      console.log('starred this person');\n    }\n}\n","'use strict';\n\nangular\n  .module('App')\n  .controller('HomeCtrl', ['$scope', '$state', '$auth', '$http', 'UserSvc', HomeCtrl])\n\nfunction HomeCtrl($scope, $state, $auth, $http, UserSvc){\n  $scope.authenticate = function(provider, user) {\n    //$auth returns a promise. We'll wanna use that, so we have a '.then'. (This is what produces the 'token' object we see in console).\n    //Satellizer stores this token for us automatically. (It's in local storage!) It is sent via the request.get in 'auth.js' route.\n    $auth.authenticate(provider, user)\n      .then((res) => {\n        console.log(res, 'This is the auth response in Home Ctlr.');\n        var token = res.data;\n        console.log(token, \"This is our token. We're inside Home Ctlr.\")\n      UserSvc.getProfile()\n        // this has to be done before state.go because facebook_email is needed but\n        // after auth.authenticate because you are pressing the login with facebook button\n        .then((response) => {\n          var facebookId = response.data._id;\n          // var facebook_name = response.data.displayName;\n          // var facebook_email = response.data.email;\n          console.log('THIS IS THE UNIQUE FACEBOOK ID',facebookId)\n          $state.go('my-wishlist', {id: facebookId})\n        })\n        .catch((err) => {\n          console.error(err, 'Inside UserSvc After Auth.authenticate, we have an error!');\n        });\n    })\n    .catch((err) => {\n      console.error('Inside the Home Ctrl, we have an error!', err);\n    });\n  };\n\n}\n","'use strict';\n\nangular\n  .module('App')\n  .controller('StarredCtrl', ['$scope', '$state', '$auth', '$http', '$window', 'UserSvc', 'StarSvc', '$stateParams', StarredCtrl])\n\nfunction StarredCtrl($scope, $state, $auth, $http, $window, UserSvc, StarSvc, $stateParams){\n\n  if(!$auth.isAuthenticated()){\n    return $state.go('home');\n  }\n\n  $scope.search = () => {\n    // console.log(user, 'heres the user');\n    // StarSvc.get_friends(user)\n    // .then(function(user){\n    //   console.log(user, \"here are the friends we would get back\");\n    //   console.log('WTF');\n    // })\n    // .catch(function(err) {\n    //   console.error(err, 'Inside the Starred Ctrl, we have an error!');\n    // });\n  }\n}\n","'use strict';\n\nangular\n  .module('App')\n  .controller('NavbarCtrl', ['$scope', '$state', 'NavSvc', '$auth', NavbarCtrl]);\n\nfunction NavbarCtrl($scope, $state, NavSvc, $auth){\n  $scope.isAuthenticated = () => {\n    return $auth.isAuthenticated();\n  };\n  $scope.logout = () => {\n    $auth.logout();\n    $state.go('home')\n  }\n}\n","'use strict';\n\nangular\n  .module('App')\n  .controller('ProfileCardCtrl', function($scope){\n    console.log('yo')\n  })\n  .directive('profile-card', function(){\n    return {\n      restrict: 'E',\n      controller: 'ProfileCardCtrl',\n      templateUrl: 'app/shared/profile-card/profile-card.html',\n      link: function(scope, el, attrs){\n\n      }\n    }\n  });"],"sourceRoot":"/source/"}