<<<<<<< HEAD
"use strict";function AppRoutes(e,t,a,o){t.otherwise("/"),e.state("faq",{url:"/faq",templateUrl:"app/components/faq/faq.html",controller:"faqCtrl"}).state("home",{url:"/",templateUrl:"app/components/home/home.html",controller:"HomeCtrl"}).state("my-wishlist",{url:"/my-wishlist/:id",templateUrl:"app/components/my-wishlist/my-wishlist.html",controller:"WishlistCtrl"}).state("friend-wishlist",{url:"/my-wishlist/:id/friends/:fid",templateUrl:"app/components/friend-wishlist/friend-wishlist.html",controller:"FriendlistCtrl",resolve:{getUser:function(e){return e.getProfile()}}}),o.facebook({clientId:"247255738962232",requiredUrlParams:["scope"],scope:["user_friends","email","user_birthday","user_likes"]})}function StarSvc(e){return{get_friends:function(){return e.get("/api/me/friends")}}}function UserSvc(e){return{getProfile:function(){return e.get("/api/me")},friendProfile:function(t){return e.post("/api/friend",{params:{fid:t}})},showFollow:function(t){return e.post("/api/friend/follow",{params:{friendIds:t}})},displayFaves:function(t){return e.post("/api/me/favorited",{params:{favoritedByIds:t}})},add_new:function(t){var t;return e.post("/api/me/items",t)},delete_item:function(t,a){return e.put("/api/me/items/delete",t)},save_changes:function(t){var t;return e.put("/api/me/items/edit",t)},starPerson:function(t){return e.put("/api/me/star",t)},saveOrder:function(t){return e.put("/api/me/items/order",t)},likeItem:function(t){return e.put("/api/items/liked",t)},showFavoritesData:function(){return e.get("/api/favorites/data")},followPerson:function(t){return e.put("/api/me/following",t)},makePrivate:function(t){return e.put("/api/me/makePrivate")},makePublic:function(t){return e.put("/api/me/makePublic")},checkingFriendPrivacy:function(t){for(var a=[],o=0;o<t.length;o++){var i=t[o].id;a.push(i)}return e.post("/api/me/checkingFriendPrivacy",{friends:a})}}}function faqCtrl(e,t){var a="in faq";localStorage.setItem("faq",a),localStorage.getItem("satellizer_token")?e.infaq=localStorage.removeItem("faq"):e.infaq=localStorage.getItem("faq"),t.faqs=[{question:"1. Why arent my links working?",answer:"Make sure you have the http(s):/ /www; The best way to accomplish copying the links is by copying the url & simply plasting it in the input box."},{question:"2. 2nd",answer:"2nd"},{question:"3. 3rd",answer:"3rd"}],t.getAnswer=function(){t.showAnswer?t.showAnswer=!1:t.showAnswer=!0}}function FriendlistCtrl(e,t,a,o,i,r,n,l,s){var f=s.data.favorites,d=s.data.following;n.display_name=s.data.displayName;var c=l.fid,u=s.data.liked;r.friendProfile(c).then(function(t){e.user=t.data.user,e.id=t.data.user._id,e.birthday=t.data.user.birthday,void 0==e.birthday&&(e.birthday=" N/A "),e.display_name=t.data.user.displayName,e.email=t.data.user.email,e.pro_pic=t.data.user.facebook,e.items=t.data.items,e.friendsLengthh=t.data.user.friends.length,e.allFriendFriends=t.data.user.friends,e.following=t.data.user.following.length,e.followers=t.data.user.followers.length;for(var a=t.data.user.items,o=[],i=0;i<a.length;i++){var r=a[i];u.indexOf(r)>-1&&(o.push(i),e.like_heart=o)}var l=t.data.user._id;f.indexOf(l)>-1&&(n.yellowStar="star_btn",e.favWishList=!0),d.indexOf(e.id)>-1?n.follow=!0:n.follow=!1;for(var s=[],c=[],i=0;i<t.data.user.friends.length;i++){var h=t.data.user.friends[i].name,m=t.data.user.friends[i].id;s.push(h),c.push(m)}e.friends=s,e.friendsLength=s.length,e.favoritedBy=t.data.user.favoritedBy,e.favoritedByLength=t.data.user.favoritedBy.length;for(var i=0;i<e.favoritedByLength;i++)e.favoritedBy.map(function(e){c.indexOf(e)>-1})})["catch"](function(e){}),e.like_item=function(t,a){if(void 0!=e.like_heart&&e.like_heart.indexOf(a)>-1){var o=parseInt(a),i=e.like_heart;i.splice(i.indexOf(o),1)}else void 0==e.like_heart?(e.like_heart=[],e.like_heart.push(a)):void 0!=e.like_heart&&e.like_heart.push(a);r.likeItem(t).then(function(e){})["catch"](function(e){})},e.star=function(t){e.favWishList?e.favWishList=!1:e.favWishList="is_favoriting",void 0===n.yellowStar?n.yellowStar="star_btn":n.yellowStar=void 0,r.starPerson(t)},e.followUser=function(t){var a=t._id;d.indexOf(a)>-1?(d.pop(a),e.unfollow=!1):(d.push(a),window.location.reload()),r.followPerson(t)},e.unfollowBtnShow=function(){n.follow=!1,n.unfollow=!0},e.followBtnShow=function(){n.follow=!0,n.unfollow=!1},e.goToFollowing=function(){t.go("following")},e.goToFollowers=function(){t.go("followers")}}function HomeCtrl(e,t,a,o,i,r){r.loggedIn=localStorage.getItem("satellizer_token"),localStorage.getItem("satellizer_token")&&i.getProfile().then(function(e){r.display_name=e.data.displayName}),e.authenticate=function(e,o){a.authenticate(e,o).then(function(e){i.getProfile().then(function(e){var a=e.data.facebook;t.go("my-wishlist",{id:a})})["catch"](function(e){})})["catch"](function(e){})}}function WishlistCtrl(e,t,a,o,i,r,n,l){return e.id=l.id,n.fbook=l.facebook,n.settings=!1,n.starred=!1,n.followersPage=!1,n.followingPage=!1,e.like_heart=!1,e.favoriteWishlist=!1,a.isAuthenticated()?(r.getProfile().then(function(t){n.user=t.data,n.id=t.data._id,n.birthday=t.data.birthday,n.display_name=t.data.displayName,n.email=t.data.email,n.pro_pic=t.data.facebook,n.items=t.data.items,n.friends=t.data.friends[0].name,n.friendsLength=t.data.friends.length,n.favorites=t.data.favorites,e.followersCount=t.data.followers.length,e.followingCount=t.data.following.length,n.privacy=t.data["private"],1==n.privacy?(e["public"]=!1,e["private"]=!0):0==n.privacy&&(e["public"]=!0,e["private"]=!1),n.followingArr=t.data.following,n.followersArr=t.data.followers,n.favoritedByArr=t.data.favoritedBy;var a=n.favoritedByArr;r.displayFaves(a).then(function(e){var t=e.data;n.favoritedByModel=[];for(var a=0;a<t.length;a++){var o=t[a],i=o.displayName;n.favoritedByModel[a]={name:i}}}),e.favoritedByLength=t.data.favoritedBy.length;t.data.friends;e.favoritedByArr=t.data.favoritedBy,e.favoritedByArr.map(function(e){});for(var o=0;o<2;o++);})["catch"](function(e){}),e.goToFollowing=function(){n.followingPage=!0,n.followersPage=!1,n.settings=!1,n.starred=!1;var e=n.followingArr;r.showFollow(e).then(function(e){var t=e.data;n.followingModel=[];for(var a=0;a<t.length;a++){var o=t[a],i=o.displayName,r=o.facebook;n.followingModel[a]={name:i,id:r}}})},e.goToFollowers=function(){n.followersPage=!0,n.followingPage=!1,n.settings=!1,n.starred=!1;var e=n.followersArr;r.showFollow(e).then(function(e){var t=e.data;n.followersModel=[];for(var a=0;a<t.length;a++){var o=t[a],i=o.displayName,r=o.facebook;n.followersModel[a]={name:i,id:r}}})},e.add=function(t,a){e.name=t.name,e.link=t.link;var o=e.user._id;e.item.user=o,r.add_new(t).then(function(){e.items.push({name:e.name,link:e.link,user:o}),e.item.name="",e.item.link=""})["catch"](function(e){}),swal({title:"Good job!",text:"You added the item!",type:"success",timer:2e3}),window.location.reload(!0)},e.like_item=function(e){r.likeItem(e)},e.edit=function(t){e.item={},e.item.link=t.link,e.item.name=t.name,e.editItemId=t._id},e.save_changes=function(t,a){e.item.name=t.name,e.item.link=t.link,e.item.id=a,r.save_changes(t).then(function(){window.location.reload(!0)})["catch"](function(){})},e["delete"]=function(t,a){e.items.splice(a,1),r.delete_item(t,a)},e.star=function(e){r.starPerson(e)},e.goToSettings=function(){n.settings=!0,n.followersPage=!1,n.followingPage=!1,n.starred=!1,e.makePrivate=function(){var t=n.user;r.makePrivate(t).then(function(){})["catch"](function(){}),e["private"]=!0,e["public"]=!1},e.makePublic=function(){var t=n.user;r.makePublic(t),e["private"]=!1,e["public"]=!0}},e.sort_list=function(){var t=e.items;r.saveOrder(t)},e.sortableOptions={update:function(t,a){e.sort_list()},axis:"y"},e.goToStarred=function(){n.starred=!0,n.followersPage=!1,n.followingPage=!1,n.settings=!1},e.goToOthers=function(e){r.getProfile().then(function(a){var o=a.data.facebook;e.id;t.go("friend-wishlist",{id:o,fid:e.id})})},r.showFavoritesData().then(function(t){var a=t.data.user.favorites.length,o=t.data.favoritesData;e.favsModel=[];for(var i=0;i<a;i++)e.favsModel[i]={name:o[i].displayName,id:o[i].facebook}})["catch"](function(e){}),void(e.show_user_info=function(){e.clicked_card?e.clicked_card=!1:e.clicked_card=!0})):t.go("home")}function NavbarCtrl(e,t,a,o,i){localStorage.getItem("satellizer_token")?i.infaq=localStorage.removeItem("faq"):i.infaq=localStorage.getItem("faq"),e.isAuthenticated=function(){return a.isAuthenticated()},e.logout=function(){i.loggedIn=void 0,a.logout(),t.go("home")},e.backToHome=function(){localStorage.removeItem("faq"),i.infaq=null},e.goToWishList=function(){i.settings=!1,i.starred=!1,i.followersPage=!1,i.followingPage=!1,o.getProfile().then(function(e){var a=e.data.facebook;t.go("my-wishlist",{id:a})})},e.goToStarred=function(){e.goToWishList(),o.getProfile().then(function(e){var a=e.data.facebook;i.settings=!1,i.starred=!0,i.followersPage=!1,i.followingPage=!1,t.go("my-wishlist",{id:a})})},e.goToOthers=function(a){o.getProfile().then(function(o){var i=o.data.facebook;e.friendsContainer=!1,t.go("friend-wishlist",{id:i,fid:a.id})})},e.searchFriends=function(){o.getProfile().then(function(e){var t=e.data.friends;i.alternate=t;var a=i.alternate||i.user.friends;o.checkingFriendPrivacy(a).then(function(e){var t=e.data.publicFriends,a=t.length;i.userModel=[];for(var o=0;o<a;o++)i.userModel[o]={name:t[o].displayName,id:t[o].facebook}})})},e.focused=function(){e.friendsContainer=!0,e.searchFriends()},e.blurred=function(){e.friendsContainer=!1},e.authenticate=function(e,r){localStorage.removeItem("faq"),i.notLoggedIn=!0,a.authenticate(e,r).then(function(e){o.getProfile().then(function(e){var a=e.data.facebook;t.go("my-wishlist",{id:a})})["catch"](function(e){})})["catch"](function(e){})}}angular.module("App",["ui.router","satellizer","app.routes","ui.sortable"]),angular.module("app.routes",[]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$authProvider",AppRoutes]),angular.module("App").factory("StarSvc",StarSvc),StarSvc.$inject=["$http"],angular.module("App").factory("UserSvc",UserSvc),UserSvc.$inject=["$http"],angular.module("App").controller("faqCtrl",["$rootScope","$scope",faqCtrl]),angular.module("App").controller("FriendlistCtrl",["$scope","$state","$auth","$http","$window","UserSvc","$rootScope","$stateParams","getUser",FriendlistCtrl]),angular.module("App").controller("HomeCtrl",["$scope","$state","$auth","$http","UserSvc","$rootScope",HomeCtrl]),angular.module("App").controller("WishlistCtrl",["$scope","$state","$auth","$http","$window","UserSvc","$rootScope","$stateParams",WishlistCtrl]),angular.module("App").controller("NavbarCtrl",["$scope","$state","$auth","UserSvc","$rootScope",NavbarCtrl]);
=======
<<<<<<< HEAD
"use strict";function AppRoutes(e,t,a,i){t.otherwise("/"),e.state("faq",{url:"/faq",templateUrl:"app/components/faq/faq.html",controller:"faqCtrl"}).state("home",{url:"/",templateUrl:"app/components/home/home.html",controller:"HomeCtrl"}).state("my-wishlist",{url:"/my-wishlist/:id",templateUrl:"app/components/my-wishlist/my-wishlist.html",controller:"WishlistCtrl"}).state("friend-wishlist",{url:"/my-wishlist/:id/friends/:fid",templateUrl:"app/components/friend-wishlist/friend-wishlist.html",controller:"FriendlistCtrl",resolve:{getUser:function(e){return e.getProfile()},getFriend:function(e,t){return e.friendProfile(t.fid)}}}),i.facebook({clientId:"247255738962232",requiredUrlParams:["scope"],scope:["user_friends","email","user_birthday","user_likes"]})}function StarSvc(e){return{get_friends:function(){return e.get("/api/me/friends")}}}function UserSvc(e){return{getProfile:function(){return e.get("/api/me")},friendProfile:function(t){return e.post("/api/friend",{params:{fid:t}})},add_new:function(t){var t;return e.post("/api/me/items",t)},delete_item:function(t,a){return e.put("/api/me/items/delete",t)},save_changes:function(t){var t;return e.put("/api/me/items/edit",t)},starPerson:function(t){return e.put("/api/me/star",t)},saveOrder:function(t){return e.put("/api/me/items/order",t)},likeItem:function(t){return e.put("/api/items/liked",t)},showFavoritesData:function(){return e.get("/api/favorites/data")},followPerson:function(t){return e.put("/api/me/following",t)},makePrivate:function(t){return e.put("/api/me/makePrivate")},makePublic:function(t){return e.put("/api/me/makePublic")},checkingFriendPrivacy:function(t){for(var a=[],i=0;i<t.length;i++){var o=t[i].id;a.push(o)}return e.post("/api/me/checkingFriendPrivacy",{friends:a})}}}function faqCtrl(e,t){var a="in faq";localStorage.setItem("faq",a),localStorage.getItem("satellizer_token")?e.infaq=localStorage.removeItem("faq"):e.infaq=localStorage.getItem("faq"),t.faqs=[{question:"1. Why arent my links working?",answer:"Make sure you have the http(s):/ /www; The best way to accomplish copying the links is by copying the url & simply plasting it in the input box."},{question:"2. 2nd",answer:"2nd"},{question:"3. 3rd",answer:"3rd"}],t.getAnswer=function(){t.showAnswer?t.showAnswer=!1:t.showAnswer=!0}}function FriendlistCtrl(e,t,a,i,o,n,r,l,s,f){var d=s.data.favorites,c=s.data.following;r.display_name=s.data.displayName;var u=l.fid;e.items=f.data.items;var h=s.data.liked;e.user=f.data.user,e.id=f.data.user._id,e.birthday=f.data.user.birthday,void 0==e.birthday&&(e.birthday=" N/A "),e.display_name=f.data.user.displayName,e.email=f.data.user.email,e.pro_pic=f.data.user.facebook,e.friendsLengthh=f.data.user.friends.length,e.allFriendFriends=f.data.user.friends,e.following=f.data.user.following.length,e.followers=f.data.user.followers.length;for(var g=f.data.user.items,m=[],p=0;p<g.length;p++){var v=g[p];h.indexOf(v)>-1&&(m.push(p),e.like_heart=m)}var w=f.data.user._id;d.indexOf(w)>-1&&(r.yellowStar="star_btn",e.favWishList=!0),c.indexOf(e.id)>-1?r.follow=!0:r.follow=!1;for(var k=[],y=[],p=0;p<f.data.user.friends.length;p++){var P=f.data.user.friends[p].name,u=f.data.user.friends[p].id;k.push(P),y.push(u)}e.friends=k,e.friendsLength=k.length,e.favoritedBy=f.data.user.favoritedBy,e.favoritedByLength=f.data.user.favoritedBy.length;for(var p=0;p<e.favoritedByLength;p++)e.favoritedBy.map(function(e){y.indexOf(e)>-1});e.like_item=function(t,a){if(void 0!=e.like_heart&&e.like_heart.indexOf(a)>-1){var i=parseInt(a),o=e.like_heart;o.splice(o.indexOf(i),1)}else void 0==e.like_heart?(e.like_heart=[],e.like_heart.push(a)):void 0!=e.like_heart&&e.like_heart.push(a);n.likeItem(t).then(function(e){})["catch"](function(e){})},e.star=function(t){e.favWishList?e.favWishList=!1:e.favWishList="is_favoriting",void 0===r.yellowStar?r.yellowStar="star_btn":r.yellowStar=void 0,n.starPerson(t)},e.followUser=function(t){var a=t._id;c.indexOf(a)>-1?(c.pop(a),e.unfollow=!1):(c.push(a),window.location.reload()),n.followPerson(t)},e.unfollowBtnShow=function(){r.follow=!1,r.unfollow=!0},e.followBtnShow=function(){r.follow=!0,r.unfollow=!1},e.goToFollowing=function(){t.go("following")},e.goToFollowers=function(){t.go("followers")}}function HomeCtrl(e,t,a,i,o,n){n.loggedIn=localStorage.getItem("satellizer_token"),localStorage.getItem("satellizer_token")&&o.getProfile().then(function(e){n.display_name=e.data.displayName}),e.authenticate=function(e,i){a.authenticate(e,i).then(function(e){o.getProfile().then(function(e){var a=e.data.facebook;t.go("my-wishlist",{id:a})})["catch"](function(e){})})["catch"](function(e){})}}function WishlistCtrl(e,t,a,i,o,n,r,l){return e.id=l.id,r.fbook=l.facebook,r.settings=!1,r.starred=!1,r.followersPage=!1,r.followingPage=!1,e.like_heart=!1,e.favoriteWishlist=!1,a.isAuthenticated()?(n.getProfile().then(function(t){r.user=t.data,r.id=t.data._id,r.birthday=t.data.birthday,r.display_name=t.data.displayName,r.email=t.data.email,r.pro_pic=t.data.facebook,r.items=t.data.items,r.friends=t.data.friends[0].name,r.friendsLength=t.data.friends.length,r.favorites=t.data.favorites,e.followersCount=t.data.followers.length,e.followingCount=t.data.following.length,r.privacy=t.data["private"],e.favoritedByLength=t.data.favoritedBy.length,r.favoritedByModel=[];t.data.friends;e.favoritedByArr=t.data.favoritedBy,e.favoritedByArr.map(function(e){});for(var a=0;a<2;a++)e.favoritedByArr.map(function(e){}),r.favoritedByModel[a]={name:t.data.friends[a].name,id:t.data.friends[a].id};1==r.privacy?(e["public"]=!1,e["private"]=!0):0==r.privacy&&(e["public"]=!0,e["private"]=!1),r.followersModel=[],r.followingModel=[],e.followingArr=t.data.following;for(var a=0;a<e.followingCount;a++)r.followingModel[a]={name:t.data.friends[a].name,id:t.data.friends[a].id};e.followersArr=t.data.following;for(var a=0;a<e.followersCount;a++)r.followersModel[a]={name:t.data.friends[a].name,id:t.data.friends[a].id}})["catch"](function(e){}),e.add=function(t,a){e.name=t.name,e.link=t.link;var i=e.user._id;e.item.user=i,n.add_new(t).then(function(){e.items.push({name:e.name,link:e.link,user:i}),e.item.name="",e.item.link=""})["catch"](function(e){}),swal({title:"Good job!",text:"You added the item!",type:"success",timer:2e3}),window.location.reload(!0)},e.like_item=function(e){n.likeItem(e)},e.edit=function(t){e.item={},e.item.link=t.link,e.item.name=t.name,e.editItemId=t._id},e.save_changes=function(t,a){e.item.name=t.name,e.item.link=t.link,e.item.id=a,n.save_changes(t).then(function(){window.location.reload(!0)})["catch"](function(){})},e["delete"]=function(t,a){e.items.splice(a,1),n.delete_item(t,a)},e.star=function(e){n.starPerson(e)},e.goToSettings=function(){r.settings=!0,r.followersPage=!1,r.followingPage=!1,r.starred=!1,e.makePrivate=function(){var t=r.user;n.makePrivate(t).then(function(){})["catch"](function(){}),e["private"]=!0,e["public"]=!1},e.makePublic=function(){var t=r.user;n.makePublic(t),e["private"]=!1,e["public"]=!0}},e.sort_list=function(){var t=e.items;n.saveOrder(t)},e.sortableOptions={update:function(t,a){e.sort_list()},axis:"y"},e.goToFollowing=function(){r.followingPage=!0,r.followersPage=!1,r.settings=!1,r.starred=!1},e.goToFollowers=function(){r.followersPage=!0,r.followingPage=!1,r.settings=!1,r.starred=!1},e.goToStarred=function(){r.starred=!0,r.followersPage=!1,r.followingPage=!1,r.settings=!1},e.goToOthers=function(e){n.getProfile().then(function(a){var i=a.data.facebook;t.go("friend-wishlist",{id:i,fid:e.id})})},n.showFavoritesData().then(function(t){var a=t.data.user.favorites.length,i=t.data.favoritesData;e.favsModel=[];for(var o=0;o<a;o++)e.favsModel[o]={name:i[o].displayName,id:i[o].facebook}})["catch"](function(e){}),void(e.show_user_info=function(){e.clicked_card?e.clicked_card=!1:e.clicked_card=!0})):t.go("home")}function NavbarCtrl(e,t,a,i,o){localStorage.getItem("satellizer_token")?o.infaq=localStorage.removeItem("faq"):o.infaq=localStorage.getItem("faq"),e.isAuthenticated=function(){return a.isAuthenticated()},e.logout=function(){o.loggedIn=void 0,a.logout(),t.go("home")},e.backToHome=function(){localStorage.removeItem("faq"),o.infaq=null},e.goToWishList=function(){o.settings=!1,o.starred=!1,o.followersPage=!1,o.followingPage=!1,i.getProfile().then(function(e){var a=e.data.facebook;t.go("my-wishlist",{id:a})})},e.goToStarred=function(){e.goToWishList(),i.getProfile().then(function(e){var a=e.data.facebook;o.settings=!1,o.starred=!0,o.followersPage=!1,o.followingPage=!1,t.go("my-wishlist",{id:a})})},e.goToOthers=function(a){i.getProfile().then(function(i){var o=i.data.facebook;e.friendsContainer=!1,t.go("friend-wishlist",{id:o,fid:a.id})})},e.searchFriends=function(){i.getProfile().then(function(e){var t=e.data.friends;o.alternate=t;var a=o.alternate||o.user.friends;i.checkingFriendPrivacy(a).then(function(e){var t=e.data.publicFriends,a=t.length;o.userModel=[];for(var i=0;i<a;i++)o.userModel[i]={name:t[i].displayName,id:t[i].facebook}})})},e.focused=function(){e.friendsContainer=!0,e.searchFriends()},e.blurred=function(){e.friendsContainer=!1},e.authenticate=function(e,n){localStorage.removeItem("faq"),o.notLoggedIn=!0,a.authenticate(e,n).then(function(e){i.getProfile().then(function(e){var a=e.data.facebook;t.go("my-wishlist",{id:a})})["catch"](function(e){})})["catch"](function(e){})}}angular.module("App",["ui.router","satellizer","app.routes","ui.sortable"]),angular.module("app.routes",[]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$authProvider",AppRoutes]),angular.module("App").factory("StarSvc",StarSvc),StarSvc.$inject=["$http"],angular.module("App").factory("UserSvc",UserSvc),UserSvc.$inject=["$http"],angular.module("App").controller("faqCtrl",["$rootScope","$scope",faqCtrl]),angular.module("App").controller("FriendlistCtrl",["$scope","$state","$auth","$http","$window","UserSvc","$rootScope","$stateParams","getUser","getFriend",FriendlistCtrl]),angular.module("App").controller("HomeCtrl",["$scope","$state","$auth","$http","UserSvc","$rootScope",HomeCtrl]),angular.module("App").controller("WishlistCtrl",["$scope","$state","$auth","$http","$window","UserSvc","$rootScope","$stateParams",WishlistCtrl]),angular.module("App").controller("NavbarCtrl",["$scope","$state","$auth","UserSvc","$rootScope",NavbarCtrl]);
=======
"use strict";function AppRoutes(e,t,o,a){t.otherwise("/"),e.state("faq",{url:"/faq",templateUrl:"app/components/faq/faq.html",controller:"faqCtrl"}).state("home",{url:"/",templateUrl:"app/components/home/home.html",controller:"HomeCtrl"}).state("my-wishlist",{url:"/my-wishlist/:id",templateUrl:"app/components/my-wishlist/my-wishlist.html",controller:"WishlistCtrl"}).state("friend-wishlist",{url:"/my-wishlist/:id/friends/:fid",templateUrl:"app/components/friend-wishlist/friend-wishlist.html",controller:"FriendlistCtrl",resolve:{getUser:function(e){return e.getProfile()}}}),a.facebook({clientId:"247255738962232",requiredUrlParams:["scope"],scope:["user_friends","email","user_birthday","user_likes"]})}function StarSvc(e){return{get_friends:function(){return e.get("/api/me/friends")}}}function UserSvc(e){return{getProfile:function(){return e.get("/api/me")},friendProfile:function(t){return e.post("/api/friend",{params:{fid:t}})},showFollow:function(t){return e.post("/api/friend/follow",{params:{friendIds:t}})},add_new:function(t){var t;return e.post("/api/me/items",t)},delete_item:function(t,o){return e.put("/api/me/items/delete",t)},save_changes:function(t){var t;return e.put("/api/me/items/edit",t)},starPerson:function(t){return e.put("/api/me/star",t)},saveOrder:function(t){return e.put("/api/me/items/order",t)},likeItem:function(t){return e.put("/api/items/liked",t)},showFavoritesData:function(){return e.get("/api/favorites/data")},followPerson:function(t){return e.put("/api/me/following",t)},makePrivate:function(t){return e.put("/api/me/makePrivate")},makePublic:function(t){return e.put("/api/me/makePublic")},checkingFriendPrivacy:function(t){for(var o=[],a=0;a<t.length;a++){var i=t[a].id;o.push(i)}return e.post("/api/me/checkingFriendPrivacy",{friends:o})}}}function FriendlistCtrl(e,t,o,a,i,n,r,l,s){var f=s.data.favorites,d=s.data.following;r.display_name=s.data.displayName;var c=l.fid,u=s.data.liked;n.friendProfile(c).then(function(t){e.user=t.data.user,e.id=t.data.user._id,e.birthday=t.data.user.birthday,void 0==e.birthday&&(e.birthday=" N/A "),e.display_name=t.data.user.displayName,e.email=t.data.user.email,e.pro_pic=t.data.user.facebook,e.items=t.data.items,e.friendsLengthh=t.data.user.friends.length,e.allFriendFriends=t.data.user.friends,e.following=t.data.user.following.length,e.followers=t.data.user.followers.length;for(var o=t.data.user.items,a=[],i=0;i<o.length;i++){var n=o[i];u.indexOf(n)>-1&&(a.push(i),e.like_heart=a)}var l=t.data.user._id;f.indexOf(l)>-1&&(r.yellowStar="star_btn",e.favWishList=!0),d.indexOf(e.id)>-1?r.follow=!0:r.follow=!1;for(var s=[],c=[],i=0;i<t.data.user.friends.length;i++){var h=t.data.user.friends[i].name,m=t.data.user.friends[i].id;s.push(h),c.push(m)}e.friends=s,e.friendsLength=s.length,e.favoritedBy=t.data.user.favoritedBy,e.favoritedByLength=t.data.user.favoritedBy.length;for(var i=0;i<e.favoritedByLength;i++)e.favoritedBy.map(function(e){c.indexOf(e)>-1})})["catch"](function(e){}),e.like_item=function(t,o){if(void 0!=e.like_heart&&e.like_heart.indexOf(o)>-1){var a=parseInt(o),i=e.like_heart;i.splice(i.indexOf(a),1)}else void 0==e.like_heart?(e.like_heart=[],e.like_heart.push(o)):void 0!=e.like_heart&&e.like_heart.push(o);n.likeItem(t).then(function(e){})["catch"](function(e){})},e.star=function(t){e.favWishList?e.favWishList=!1:e.favWishList="is_favoriting",void 0===r.yellowStar?r.yellowStar="star_btn":r.yellowStar=void 0,n.starPerson(t)},e.followUser=function(t){var o=t._id;d.indexOf(o)>-1?(d.pop(o),e.unfollow=!1):(d.push(o),window.location.reload()),n.followPerson(t)},e.unfollowBtnShow=function(){r.follow=!1,r.unfollow=!0},e.followBtnShow=function(){r.follow=!0,r.unfollow=!1},e.goToFollowing=function(){t.go("following")},e.goToFollowers=function(){t.go("followers")}}function faqCtrl(e,t){var o="in faq";localStorage.setItem("faq",o),localStorage.getItem("satellizer_token")?e.infaq=localStorage.removeItem("faq"):e.infaq=localStorage.getItem("faq"),t.faqs=[{question:"1. Why arent my links working?",answer:"Make sure you have the http(s):/ /www; The best way to accomplish copying the links is by copying the url & simply plasting it in the input box."},{question:"2. 2nd",answer:"2nd"},{question:"3. 3rd",answer:"3rd"}],t.getAnswer=function(){t.showAnswer?t.showAnswer=!1:t.showAnswer=!0}}function WishlistCtrl(e,t,o,a,i,n,r,l){return e.id=l.id,r.fbook=l.facebook,r.settings=!1,r.starred=!1,r.followersPage=!1,r.followingPage=!1,e.like_heart=!1,e.favoriteWishlist=!1,o.isAuthenticated()?(n.getProfile().then(function(t){r.user=t.data,r.id=t.data._id,r.birthday=t.data.birthday,r.display_name=t.data.displayName,r.email=t.data.email,r.pro_pic=t.data.facebook,r.items=t.data.items,r.friends=t.data.friends[0].name,r.friendsLength=t.data.friends.length,r.favorites=t.data.favorites,e.followersCount=t.data.followers.length,e.followingCount=t.data.following.length,r.privacy=t.data["private"],1==r.privacy?(e["public"]=!1,e["private"]=!0):0==r.privacy&&(e["public"]=!0,e["private"]=!1),r.followingArr=t.data.following,r.followersArr=t.data.followers,r.followersModel=[],e.followersArr=t.data.following;for(var o=0;o<e.followersCount;o++)r.followersModel[o]={name:t.data.friends[o].name,id:t.data.friends[o].id};e.favoritedByLength=t.data.favoritedBy.length,r.favoritedByModel=[];t.data.friends;e.favoritedByArr=t.data.favoritedBy,e.favoritedByArr.map(function(e){});for(var o=0;o<2;o++)r.favoritedByModel[o]={name:t.data.friends[o].name,id:t.data.friends[o].id}})["catch"](function(e){}),e.goToFollowing=function(){r.followingPage=!0,r.followersPage=!1,r.settings=!1,r.starred=!1;var e=r.followingArr;n.showFollow(e).then(function(e){var t=e.data;r.followingModel=[];for(var o=0;o<t.length;o++){var a=t[o],i=a.displayName,n=a.facebook;r.followingModel[o]={name:i,id:n}}})},e.goToFollowers=function(){r.followersPage=!0,r.followingPage=!1,r.settings=!1,r.starred=!1;var e=r.followersArr;n.showFollow(e).then(function(e){var t=e.data;r.followersModel=[];for(var o=0;o<t.length;o++){var a=t[o],i=a.displayName,n=a.facebook;r.followersModel[o]={name:i,id:n}}})},e.add=function(t,o){e.name=t.name,e.link=t.link;var a=e.user._id;e.item.user=a,n.add_new(t).then(function(){e.items.push({name:e.name,link:e.link,user:a}),e.item.name="",e.item.link=""})["catch"](function(e){}),swal({title:"Good job!",text:"You added the item!",type:"success",timer:2e3}),window.location.reload(!0)},e.like_item=function(e){n.likeItem(e)},e.edit=function(t){e.item={},e.item.link=t.link,e.item.name=t.name,e.editItemId=t._id},e.save_changes=function(t,o){e.item.name=t.name,e.item.link=t.link,e.item.id=o,n.save_changes(t).then(function(){window.location.reload(!0)})["catch"](function(){})},e["delete"]=function(t,o){e.items.splice(o,1),n.delete_item(t,o)},e.star=function(e){n.starPerson(e)},e.goToSettings=function(){r.settings=!0,r.followersPage=!1,r.followingPage=!1,r.starred=!1,e.makePrivate=function(){var t=r.user;n.makePrivate(t).then(function(){})["catch"](function(){}),e["private"]=!0,e["public"]=!1},e.makePublic=function(){var t=r.user;n.makePublic(t),e["private"]=!1,e["public"]=!0}},e.sort_list=function(){var t=e.items;n.saveOrder(t)},e.sortableOptions={update:function(t,o){e.sort_list()},axis:"y"},e.goToStarred=function(){r.starred=!0,r.followersPage=!1,r.followingPage=!1,r.settings=!1},e.goToOthers=function(e){n.getProfile().then(function(o){var a=o.data.facebook;e.id;t.go("friend-wishlist",{id:a,fid:e.id})})},n.showFavoritesData().then(function(t){var o=t.data.user.favorites.length,a=t.data.favoritesData;e.favsModel=[];for(var i=0;i<o;i++)e.favsModel[i]={name:a[i].displayName,id:a[i].facebook}})["catch"](function(e){}),void(e.show_user_info=function(){e.clicked_card?e.clicked_card=!1:e.clicked_card=!0})):t.go("home")}function HomeCtrl(e,t,o,a,i,n){n.loggedIn=localStorage.getItem("satellizer_token"),localStorage.getItem("satellizer_token")&&i.getProfile().then(function(e){n.display_name=e.data.displayName}),e.authenticate=function(e,a){o.authenticate(e,a).then(function(e){i.getProfile().then(function(e){var o=e.data.facebook;t.go("my-wishlist",{id:o})})["catch"](function(e){})})["catch"](function(e){})}}function NavbarCtrl(e,t,o,a,i){localStorage.getItem("satellizer_token")?i.infaq=localStorage.removeItem("faq"):i.infaq=localStorage.getItem("faq"),e.isAuthenticated=function(){return o.isAuthenticated()},e.logout=function(){i.loggedIn=void 0,o.logout(),t.go("home")},e.backToHome=function(){localStorage.removeItem("faq"),i.infaq=null},e.goToWishList=function(){i.settings=!1,i.starred=!1,i.followersPage=!1,i.followingPage=!1,a.getProfile().then(function(e){var o=e.data.facebook;t.go("my-wishlist",{id:o})})},e.goToStarred=function(){e.goToWishList(),a.getProfile().then(function(e){var o=e.data.facebook;i.settings=!1,i.starred=!0,i.followersPage=!1,i.followingPage=!1,t.go("my-wishlist",{id:o})})},e.goToOthers=function(o){a.getProfile().then(function(a){var i=a.data.facebook;e.friendsContainer=!1,t.go("friend-wishlist",{id:i,fid:o.id})})},e.searchFriends=function(){a.getProfile().then(function(e){var t=e.data.friends;i.alternate=t;var o=i.alternate||i.user.friends;a.checkingFriendPrivacy(o).then(function(e){var t=e.data.publicFriends,o=t.length;i.userModel=[];for(var a=0;a<o;a++)i.userModel[a]={name:t[a].displayName,id:t[a].facebook}})})},e.focused=function(){e.friendsContainer=!0,e.searchFriends()},e.blurred=function(){e.friendsContainer=!1},e.authenticate=function(e,n){localStorage.removeItem("faq"),i.notLoggedIn=!0,o.authenticate(e,n).then(function(e){a.getProfile().then(function(e){var o=e.data.facebook;t.go("my-wishlist",{id:o})})["catch"](function(e){})})["catch"](function(e){})}}angular.module("App",["ui.router","satellizer","app.routes","ui.sortable"]),angular.module("app.routes",[]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$authProvider",AppRoutes]),angular.module("App").factory("StarSvc",StarSvc),StarSvc.$inject=["$http"],angular.module("App").factory("UserSvc",UserSvc),UserSvc.$inject=["$http"],angular.module("App").controller("FriendlistCtrl",["$scope","$state","$auth","$http","$window","UserSvc","$rootScope","$stateParams","getUser",FriendlistCtrl]),angular.module("App").controller("faqCtrl",["$rootScope","$scope",faqCtrl]),angular.module("App").controller("WishlistCtrl",["$scope","$state","$auth","$http","$window","UserSvc","$rootScope","$stateParams",WishlistCtrl]),angular.module("App").controller("HomeCtrl",["$scope","$state","$auth","$http","UserSvc","$rootScope",HomeCtrl]),angular.module("App").controller("NavbarCtrl",["$scope","$state","$auth","UserSvc","$rootScope",NavbarCtrl]);
>>>>>>> 13e506469b8917ee92517ae77e9e99238b36a486
>>>>>>> 08cfb26511f65f87efbe21d14ac28f90f68df7a9
